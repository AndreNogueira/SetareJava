$(document).foundation({orbit:{animation:"slide",timer_speed:5000,pause_on_hover:true,resume_on_mouseout:false,next_on_click:true,animation_speed:500,stack_on_small:false,navigation_arrows:true,slide_number:true,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",timer_show_progress_bar:false,slides_container_class:"orbit-slides-container",bullets_container_class:"orbit-bullets",slide_selector:"li",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:false,circular:false,timer:true,variable_height:false,swipe:true}});$(document).ready(function(){$("div#drop_location").hide();$("div#pick_location").hide();$("div#return_at_same").hide();$("div#pcity_name").text("Pick at: "+$("select#pick_city option:selected").text());$("div#dcity_name").text("Drop at: "+$("select#drop_city option:selected").text());$("input#return_at_same_location").on("change",function(){$("div#drop_location").slideToggle()});$("a.change_pick_location").on("click",function(){$("div#pick_location").slideToggle();$("div#return_at_same").slideToggle();if($("div#return_at_same").prop("checked")){$("div#drop_location").hide()}else{$("div#drop_location").slideDown()}});$("select#pick_country").on("change",function(){var d=$(this).val();var c=$("select#pick_city");$("select#pick_subsidiary").attr("disabled",true);$("select#pick_city > option:gt(0)").remove();$("select#pick_subsidiary > option:gt(0)").remove();$("select#drop_country").val("Please Select");$("select#drop_city > option:gt(0)").remove();$("select#drop_city").attr("disabled",true);$("select#drop_subsidiary > option:gt(0)").remove();if(d!==""){a("/SetareJava/cars/pick-city",d,"",c)}else{c.attr("disabled",true)}});$("select#pick_city").on("change",function(){var d=$(this).val();var c=$("select#pick_subsidiary");$("select#pick_subsidiary > option:gt(0)").remove();$("select#drop_country").val("Please Select");$("select#drop_city > option:gt(0)").remove();$("select#drop_city").attr("disabled",true);$("select#drop_subsidiary > option:gt(0)").remove();$("select#drop_subsidiary").attr("disabled",true);$("select#pick_subsidiary > option:gt(0)").remove();if(d!==""){a("/SetareJava/cars/pick-subsidiary",d,"",c)}else{c.attr("disabled",true)}});$("select#pick_subsidiary").on("change",function(){var e=$(this).val();if(e!==""){var h=$("select#drop_country");var d=$("select#pick_country");var g=$("select#pick_subsidiary");var c=$("select#drop_city");var f=g.val();h.val(d.val());$("select#drop_subsidiary > option:gt(0)").remove();$("select#drop_subsidiary").attr("disabled",true);h.attr("disabled",true);b(f,function(i){c.empty().append("<option value='0'>Please Select</option>");a("/SetareJava/cars/drop-city",d.val(),i,c)})}});$("select#drop_city").on("change",function(){var c=$("select#drop_city");var d=$("select#drop_subsidiary");var e=$("select#pick_subsidiary");$("input#return_at_same_location").removeAttr("checked");b(e.val(),function(f){console.log("Pick Subsidiary :"+e.val());console.log("Agency Id :"+f);d.empty().append("<option value='0'>Please Select</option>");a("/SetareJava/cars/drop-subsidiary",c.val(),f,d)})});$("select#gps_quantity").on("change",function(){if($(this).val()>0){$("input#gps").prop("checked",true)}else{$("input#gps").prop("checked",false)}});$("select#additional_driver_quantity").on("change",function(){if($(this).val()>0){$("input#additional_driver").prop("checked",true)}else{$("input#additional_driver").prop("checked",false)}});$("select#baby_seat_quantity").on("change",function(){if($(this).val()>0){$("input#baby_seat").prop("checked",true)}else{$("input#baby_seat").prop("checked",false)}});$("input#baby_seat").on("change",function(){if($(this).is(":checked")&&$("select#baby_seat_quantity").val()==0){$("select#baby_seat_quantity").val(1)}else{$("select#baby_seat_quantity").val(0)}});$("input#additional_driver").on("change",function(){if($(this).is(":checked")&&$("select#additional_driver_quantity").val()==0){$("select#additional_driver_quantity").val(1)}else{$("select#additional_driver_quantity").val(0)}});$("input#gps").on("change",function(){if($(this).is(":checked")&&$("select#gps_quantity").val()==0){$("select#gps_quantity").val(1)}else{$("select#gps_quantity").val(0)}});function a(d,f,e,c){$.getJSON(d,{id:f,id2:e},function(g){c.attr("disabled",false);$.each(g.names,function(h,j){var i=$("<option>").text(h).attr("value",j);c.append(i)})})}function b(d,e){var c;$.getJSON("/SetareJava/cars/get-agency",{id:d},function(f){c=f.id_agency;if(typeof e==="function"){e(c)}})}});$(document).ready(function(){$("select#country").on("change",function(){var e=$(this).val();var d=$("select#city");$("select#pick_up_location").attr("disabled",true);$("select#drop_off_location").attr("disabled",true);$("select#city > option:gt(0)").remove();$("select#drop_off_location > option:gt(0)").remove();$("select#pick_up_location > option:gt(0)").remove();if(e!==""){a("/SetareJava/taxis/country",e,d)}else{d.attr("disabled",true)}});$("select#city").on("change",function(){var e=$(this).val();var d=$("select#pick_up_location");$("select#drop_off_location").attr("disabled",true);$("select#pick_up_location > option:gt(0)").remove();$("select#drop_off_location > option:gt(0)").remove();if(e!==""){a("/SetareJava/taxis/city",e,d)}else{d.attr("disabled",true)}});$("select#pick_up_location").on("change",function(){var d=$(this).val();var e=$("select#drop_off_location");$("select#drop_off_location > option:gt(0)").remove();if(d!==""){a("/SetareJava/taxis/pick-up-locations",d,e)}else{e.attr("disabled",true)}});$.subscribe("slideSlider",function(d,e){$("input#passengers").val(d.originalEvent.ui.value)});$("button#begin-calendar").click(function(d){d.preventDefault();$("#begin_date").datepicker("show")});$("button#end-calendar").click(function(d){d.preventDefault();$("#end_date").datepicker("show")});$("input[name=type_trip]").on("change",function(){$("div#return_date").slideToggle()});$("button#button-edit").on("click",function(f){f.preventDefault();var e=$("fieldset#user-info input");var d=$(this).find("i");if(d.hasClass("fi-pencil")){b($(this),"fi-save"," Save");c(e,false)}else{if(d.hasClass("fi-save")){b($(this),"fi-pencil"," Edit");c(e,true)}}});$(".tabs .tab-links a").on("click",function(e){var f=$(this).attr("href");var d=$(".tabs "+f);d.siblings().slideUp(400);d.delay(400).slideDown(400);$(this).parent("li").addClass("active").siblings().removeClass("active");e.preventDefault()});function c(e,d){$.each(e,function(){$(this).prop("readonly",d)})}function b(e,d,g){var f=$("<i>").addClass(d);e.empty().append(f).append(g)}function a(e,f,d){$.getJSON(e,{id:f},function(g){d.attr("disabled",false);$.each(g.names,function(h,j){var i=$("<option>").text(h).attr("value",j);d.append(i)})})}});